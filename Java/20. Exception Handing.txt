Exception Handling in Java:
The Exception Handling in Java is one of the powerful mechanism to handle the runtime errors so that the normal flow of the application can be maintained.

Dictionary Meaning: Exception is an abnormal condition.

In Java, an exception is an event that disrupts the normal flow of the program. It is an object which is thrown at runtime.

What is Exception Handling?
Exception Handling is a mechanism to handle runtime errors such as ClassNotFoundException, IOException, SQLException, RemoteException, etc.

Advantage of Exception Handling:-
The core advantage of exception handling is to maintain the normal flow of the application. An exception normally disrupts the normal flow of the application; that is why we need to handle exceptions. Let's consider a scenario:
	statement 1;  
	statement 2;  
	statement 3;  //exception occurs  
	statement 4;  
	statement 5;
Suppose there are 5 statements in a Java program and an exception occurs at statement 3; the rest of the code will not be executed, i.e., statements 4&5 will not be executed. However, when we perform exception handling, the rest of the statements will be executed. That is why we use exception handling in Java.

Hierarchy of Java Exception classes

The java.lang.Throwable class is the root class of Java Exception hierarchy inherited by two subclasses: Exception and Error. The hierarchy of Java Exception classes is given below:

	Diagram
 
Types of Java Exceptions:
There are mainly two types of exceptions: checked and unchecked. An error is considered as the unchecked exception. However, according to Oracle, there are three types of exceptions namely:

1.Checked Exception
2.Unchecked Exception
3.Error
 
1) Checked Exception
The classes that directly inherit the Throwable class except RuntimeException and Error are known as checked exceptions. For example, IOException, SQLException, etc. Checked exceptions are checked at compile-time.

2) Unchecked Exception
The classes that inherit the RuntimeException are known as unchecked exceptions. For example, ArithmeticException, NullPointerException, ArrayIndexOutOfBoundsException, etc. Unchecked exceptions are not checked at compile-time, but they are checked at runtime.

3) Error
Error is irrecoverable. Some example of errors are OutOfMemoryError, VirtualMachineError, AssertionError etc.

Java Exception Keywords
Java provides five keywords that are used to handle the exception. The following table describes each.

Try  :
	The "try" keyword is used to specify a block where we should place an exception code. It means we can't use try block alone. The try block must be followed by either catch or finally.

Catch :
	The "catch" block is used to handle the exception. It must be preceded by try block which means we can't use catch block alone. It can be followed by finally block later.

Finally:
	The "finally" block is used to execute the necessary code of the program. It is executed whether an exception is handled or not.

Throw:
	The "throw" keyword is used to throw an exception.

Throws:
	The "throws" keyword is used to declare exceptions. It specifies that there may occur an exception in the method. It doesn't throw an exception. It is always used with method signature.

Problem without exception handling :-

Let's try to understand the problem if we don't use a try-catch block.

	public class Example1 {    
	    public static void main(String[] args) {  
	        int data=50/0; //may throw exception            
	        System.out.println("rest of the code");  
	    }  	      
	}  
Output:
Exception in thread "main" java.lang.ArithmeticException: / by zero

As displayed in the above example, the rest of the code is not executed (in such case, the rest of the code statement is not printed).

There might be 100 lines of code after the exception. If the exception is not handled, all the code below the exception won't be executed.

Solution by exception handling:-
Let's see the solution of the above problem by a java try-catch block.

	public class Example2 {  	  
	    public static void main(String[] args) {  
	        try  
	        {  
	        int data=50/0; //may throw exception   
	        }  
	            //handling the exception  
	        catch(ArithmeticException e)  
	        {  
	            System.out.println(e);  
	        }  
	        System.out.println("rest of the code");  
	    }  
	}  

Output:
java.lang.ArithmeticException: / by zero
rest of the code

Let's see to print a custom message on exception.

	public class TryCatchExample5 {  
	  
	    public static void main(String[] args) {  
	        try  
	        {  
	        int data=50/0; //may throw exception   
	        }  
	             // handling the exception  
	        catch(Exception e)  
	        {  
	                  // displaying the custom message  
	            System.out.println("Can't divided by zero");  
	        }  
	    }  
	}  
Output:
Can't divided by zero.

Common Scenarios of Java Exceptions
There are given some scenarios where unchecked exceptions may occur. They are as follows:
1) A scenario where ArithmeticException occurs
If we divide any number by zero, there occurs an ArithmeticException.
	int a=50/0;//ArithmeticException  

2) A scenario where NullPointerException occurs
If we have a null value in any variable, performing any operation on the variable throws a NullPointerException.
	String s=null;  
	System.out.println(s.length());//NullPointerException  

3) A scenario where NumberFormatException occurs
If the formatting of any variable or number is mismatched, it may result into NumberFormatException. Suppose we have a string variable that has characters; converting this variable into digit will cause NumberFormatException.
	String s="abc";  
	int i=Integer.parseInt(s);//NumberFormatException  

4) A scenario where ArrayIndexOutOfBoundsException occurs
When an array exceeds to it's size, the ArrayIndexOutOfBoundsException occurs. there may be other reasons to occur ArrayIndexOutOfBoundsException. Consider the following statements.
	int a[]=new int[5];  
	a[10]=50; //ArrayIndexOutOfBoundsException

Java Multi-catch block 
A try block can be followed by one or more catch blocks. Each catch block must contain a different exception handler. So, if you have to perform different tasks at the occurrence of different exceptions, use java multi-catch block.

Points to remember
1.At a time only one exception occurs and at a time only one catch block is executed.
2.All catch blocks must be ordered from most specific to most general, i.e. catch for ArithmeticException must come before catch for Exception.

Let's see a simple example of java multi-catch block.

	public class MultipleCatchBlock1 {  	  
	    public static void main(String[] args) {  
	           try{    
	                int a[]=new int[5];    
	                a[5]=30/0;    
	               }    
	               catch(ArithmeticException e)  
	                  {  
	                   System.out.println("Arithmetic Exception occurs");  
	                  }    
	               catch(ArrayIndexOutOfBoundsException e)  
	                  {  
	                   System.out.println("ArrayIndexOutOfBounds Exception occurs");  
	                  }    
	               catch(Exception e)  
	                  {  
	                   System.out.println("Parent Exception occurs");  
	                  }             
	               System.out.println("rest of the code");    
	    }  
	} 

Output:
Arithmetic Exception occurs
rest of the code

Java finally block:-
Java finally block is a block used to execute important code such as closing the connection, etc.

Java finally block is always executed whether an exception is handled or not. Therefore, it contains all the necessary statements that need to be printed regardless of the exception occurs or not.

The finally block follows the try-catch block.

Let's see the below example where the Java program does not throw any exception, and the finally block is executed after the try block.

	class TestFinallyBlock {    
	  public static void main(String args[]){    
	  try{    
	//below code do not throw any exception  
	   int data=25/5;    
	   System.out.println(data);    
	  }    
	//catch won't be executed  
	  catch(NullPointerException e){  
	System.out.println(e);  
	}    
	//executed regardless of exception occurred or not  
	 finally {  
	System.out.println("finally block is always executed");  
	}        
	System.out.println("rest of phe code...");    
	  }    
	}    

Java throw keyword
The Java throw keyword is used to throw an exception explicitly.

We specify the exception object which is to be thrown. The Exception has some message with it that provides the error description. These exceptions may be related to user inputs, server, etc.

We can throw either checked or unchecked exceptions in Java by throw keyword. It is mainly used to throw a custom exception. We will discuss custom exceptions later in this section.

We can also define our own set of conditions and throw an exception explicitly using throw keyword. For example, we can throw ArithmeticException if we divide a number by another number. Here, we just need to set the condition and throw exception using throw keyword.

The syntax of the Java throw keyword is given below.
throw Instance i.e.,
	throw new exception_class("error message");  
Let's see the example of throw IOException.
	throw new IOException("sorry device error");   

Where the Instance must be of type Throwable or subclass of Throwable. For example, Exception is the sub class of Throwable and the user-defined exceptions usually extend the Exception class.

Example:
public class ThrowExample {
    public static void main(String[] args) {
        try {
            checkAge(15);  // This will throw an exception
        } catch (IllegalArgumentException e) {
            System.out.println(e.getMessage());
        }
    }

    public static void checkAge(int age) {
        if (age < 18) {
            // Throwing an exception with a message
            throw new IllegalArgumentException("Age must be 18 or older.");
        } else {
            System.out.println("You are eligible.");
        } 
    }
}
Output:
Age must be 18 or older.

Custom Exception Example:
// Custom exception for values greater than 0
class BigException extends Exception {
    public BigException(String message) {
        super(message);
    }
}

// Custom exception for values equal to 0
class ZeroException extends Exception {
    public ZeroException(String message) {
        super(message);
    }
}

// Custom exception for values less than 0
class SmallException extends Exception {
    public SmallException(String message) {
        super(message);
    }
}

class ThrowException {
    public void number(int a) throws BigException, ZeroException, SmallException {
        if (a > 0) {
            throw new BigException("Number is greater than zero");
        } elseif (a == 0) {
            throw new ZeroException("Number is equal to zero");
        } else {
            throw new SmallException("Number is less than zero");
        }
    }

    public static void main(String args[]) {
        try {
            ThrowException obj = new ThrowException();
            obj.number(10); // Throws BigException
        } catch (BigException e) {
            System.out.println(e.getMessage());
        } catch (ZeroException e) {
            System.out.println(e.getMessage());
        } catch (SmallException e) {
            System.out.println(e.getMessage());
        }
    }
}

Java throws keyword
The Java throws keyword is used to declare an exception. It gives an information to the programmer that there may occur an exception. So, it is better for the programmer to provide the exception handling code so that the normal flow of the program can be maintained.

Exception Handling is mainly used to handle the checked exceptions. If there occurs any unchecked exception such as NullPointerException, it is programmers' fault that he is not checking the code before it being used.

Syntax of Java throws
	return_type method_name() throws exception_class_name{  
	//method code  
	}  

Advantage of Java throws keyword
Now Checked Exception can be propagated (forwarded in call stack).
It provides information to the caller of the method about the exception.

Java throws Example
Let's see the example of Java throws clause which describes that checked exceptions can be propagated by throws keyword.

public class ThrowsExample {
    public static void main(String[] args) {
        try {
            checkNumber(10);
            checkNumber(-10);
        } catch (Exception e) {
            System.out.println("Exception: " + e.getMessage());
        }
    }

    // The method declares that it might throw an Exception
    public static void checkNumber(int number) throws Exception {
        if (number < 0) {
            throw new Exception("Number cannot be negative.");
        } else {
            System.out.println("The number is valid: " + number);
        }
    }
}

Output:
The number is valid: 10
Exception: Number cannot be negative.
